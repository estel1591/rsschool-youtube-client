!function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(i,r,function(t){return e[t]}.bind(null,r));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}({0:function(e,t,n){"use strict";n.r(t);n(1),n(22),n(24);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.baseLink="https://www.googleapis.com/youtube/v3/",this.settings={key:"AIzaSyA9a9dd1T2YYrDfDO9DEJ5zt26fPqMEKCI"}}return function(e,t,n){t&&r(e.prototype,t),n&&r(e,n)}(e,[{key:"makeUrl",value:function(e,t){var n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){i(e,t,n[t])})}return e}({},this.settings,e),r="".concat(this.baseLink).concat(t,"?");for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(r+="".concat(o,"=").concat(n[o],"&"));return r.slice(0,-1)}},{key:"getResponse",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=arguments.length>3?arguments[3]:void 0;this.getData(e,this.makeUrl(n,t)).then(function(e){i(e)},function(e){return window.console.log(e)})}},{key:"getData",value:function(e,t){return new Promise(function(n,i){var r=new XMLHttpRequest;r.open(e,t,!0),r.responseType="json",r.send(),r.onload=function(){n(r.response)},r.onerror=function(){i(r.status)}})}}]),e}();function a(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var s=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.element=document.createElement(t)}return function(e,t,n){t&&a(e.prototype,t),n&&a(e,n)}(e,[{key:"html",value:function(e){return this.element.innerHTML=e,this}},{key:"css",value:function(e){return Object.assign(this.element.style,e),this}},{key:"on",value:function(e,t,n){return this.element.addEventListener(e,t,n),this}},{key:"add",value:function(e){return e.appendChild(this.element),this}},{key:"setAttribute",value:function(e,t){return this.element.setAttribute(e,t),this}}]),e}();function u(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var l=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return function(e,t,n){t&&u(e.prototype,t),n&&u(e,n)}(e,[{key:"render",value:function(e,t,n){var i="";n?document.querySelector(".wrapper-video").innerHTML="":i=document.querySelector(".wrapper-video article").style.margin,e.forEach(function(e,n){var r=new s("article"),o=new s("figure"),a=new s("img"),u=new s("figcaption"),l=new s("h2"),c=new s("a"),d=new s("div"),f=new s("p"),h=new s("p"),p=new s("p"),y=new s("div"),v=new s("p");i&&r.css({margin:i}),a.setAttribute("alt",e.snippet.title).setAttribute("src",e.snippet.thumbnails.high.url),c.setAttribute("href","https://www.youtube.com/watch?v=".concat(e.id.videoId)).html(e.snippet.title),d.setAttribute("class","wrapper-info"),f.setAttribute("class","video-author").html(e.snippet.channelTitle),h.setAttribute("class","video-date").html(e.snippet.publishedAt.slice(0,10)),p.setAttribute("class","video-watch").html(t[n]),y.setAttribute("class","wrapper-description"),v.html(e.snippet.description),v.add(y.element),f.add(d.element),h.add(d.element),p.add(d.element),c.add(l.element),l.add(u.element),u.add(o.element),a.add(o.element),o.add(r.element),d.add(r.element),y.add(r.element),r.add(document.querySelector(".wrapper-video"))})}}]),e}();function c(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function d(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var f=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.countVideo=1}return function(e,t,n){t&&d(e.prototype,t),n&&d(e,n)}(e,[{key:"getCountVideo",value:function(){return this.countVideo}},{key:"resize",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;document.body.offsetWidth<575?(e.style.width="280px",t=0):(document.body.offsetWidth>1300&&(e.style.width="1170px",this.countVideo=4),document.body.offsetWidth>991&&document.body.offsetWidth<1301&&(e.style.width="870px",this.countVideo=3),document.body.offsetWidth>575&&document.body.offsetWidth<992&&(e.style.width="370px",this.countVideo=1),t=(e.offsetWidth/this.countVideo-280)/2),document.querySelectorAll(".wrapper-video article")&&c(document.querySelectorAll(".wrapper-video article")).forEach(function(e){e.style.margin="0 ".concat(t,"px"),e.style.left=0})}}]),e}();function h(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function p(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var y=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.allDiv="",this.continerVideo="",this.left=0,this.pointSwipeStart=null,this.turnLeft="",this.maxWidth=0,this.countSwipe=1,this.needLoad=!1}return function(e,t,n){t&&p(e.prototype,t),n&&p(e,n)}(e,[{key:"getValue",value:function(){this.allDiv=document.querySelectorAll(".wrapper-video article"),this.continerVideo=document.querySelector(".wrapper-video").offsetWidth,this.left=parseInt(document.querySelector(".wrapper-video article").style.left,10),this.maxWidth=-(this.allDiv[0].offsetWidth+2*parseInt(getComputedStyle(this.allDiv[0]).marginLeft,10))*this.allDiv.length}},{key:"changeSlider",value:function(e){var t=this;this.getValue(),"SPAN"===e.target.tagName&&(this.left=-e.target.getAttribute("data-num")*this.continerVideo),e.currentTarget.classList.contains("wrapper-video")&&this.turnLeft&&(this.left="left"===this.turnLeft?this.left-this.continerVideo:this.left+this.continerVideo,this.countingSwipe(),this.turnLeft=""),this.left<1&&this.left>this.maxWidth&&h(this.allDiv).forEach(function(e){e.style.left="".concat(t.left,"px")})}},{key:"countingSwipe",value:function(){this.left<1&&this.left>this.maxWidth&&(this.countSwipe="left"===this.turnLeft?this.countSwipe+1:this.countSwipe-1,this.getPenultimatepage()===this.countSwipe?this.needLoad=!0:this.needLoad=!1)}},{key:"getPenultimatepage",value:function(){return document.querySelector(".wrapper-footer").lastChild.textContent-2}},{key:"unify",value:function(e){return e.changedTouches?e.changedTouches[0]:e}},{key:"getPointStart",value:function(e){this.pointSwipeStart=this.unify(e).clientX}},{key:"getDirection",value:function(e){e.stopPropagation(),this.unify(e).clientX-this.pointSwipeStart==0&&(this.turnLeft=""),this.unify(e).clientX-this.pointSwipeStart>0&&(this.turnLeft="right"),this.unify(e).clientX-this.pointSwipeStart<0&&(this.turnLeft="left"),this.changeSlider(e)}}]),e}();function v(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var m=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.pagingSlider=new y}return function(e,t,n){t&&v(e.prototype,t),n&&v(e,n)}(e,[{key:"render",value:function(e,t){var n=this;document.querySelector(".wrapper-footer")&&document.querySelector(".container").removeChild(document.querySelector(".wrapper-footer"));var i=new s("footer");i.setAttribute("class","wrapper-footer").on("click",function(e){n.pagingSlider.changeSlider(e)}).add(document.querySelector(".container"));for(var r=Math.ceil(e/t),o=r;r>0;){new s("span").setAttribute("data-num",o-r).html(o-r+1).add(i.element),r-=1}}}]),e}();function g(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function w(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}(new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.apiLoader=new o,this.totalResult=[],this.statistic="",this.analitics=[],this.viewWrapperSlider=new f,this.viewVideo=new l,this.quentityVideoPage=0,this.viewWrapperFooter=new m,this.pagingSlider=new y,this.pageToken="",this.prevlenght=0}return function(e,t,n){t&&w(e.prototype,t),n&&w(e,n)}(e,[{key:"start",value:function(){var e=this,t=new s("div");t.setAttribute("class","container").add(document.body);var n=new s("header");n.add(t.element);var i=new s("section");i.setAttribute("class","wrapper-input").add(n.element),new s("input").setAttribute("id","search").setAttribute("type","text").on("input",function(t){e.apiLoader.getResponse("GET","search",{type:"video",part:"snippet",q:t.target.value,maxResults:15},e.getInfoForRender.bind(e))},!1).add(i.element);var r=new s("main");new s("h1").html("Youtube client - search video which you wanted").add(r.element),r.add(t.element),new s("section").setAttribute("class","wrapper-video").add(r.element).on("mousedown",function(t){e.pagingSlider.getPointStart(t)},!1).on("touchstart",function(t){e.pagingSlider.getPointStart(t)},!1).on("mouseup",function(t){e.pagingSlider.getDirection(t)},!1).on("mouseup",function(){e.pagingSlider.needLoad&&e.apiLoader.getResponse("GET","search",{type:"video",part:"snippet",q:document.querySelector("#search").value,pageToken:e.pageToken,maxResults:15},e.getInfoForRender.bind(e))},!1).on("touchend",function(t){e.pagingSlider.getDirection(t)},!1),window.addEventListener("resize",this.callbackResize.bind(this))}},{key:"getInfoForRender",value:function(e){this.pagingSlider.needLoad?(this.totalResult=this.totalResult.concat(e.items),this.prevlenght=this.totalResult.length-e.items.length):this.totalResult=e.items,this.pageToken=e.nextPageToken,this.pagingSlider.needLoad?this.statistic=e.items.map(function(e){return e.id.videoId}):this.statistic=g(this.totalResult).map(function(e){return e.id.videoId}),this.apiLoader.getResponse("GET","videos",{part:"snippet,statistics",id:this.statistic},this.renderSlider.bind(this))}},{key:"renderSlider",value:function(e){this.pagingSlider.needLoad?(this.analitics=this.analitics.concat(e.items.map(function(e){return e.statistics.viewCount})),this.viewVideo.render(this.totalResult.slice(this.prevlenght),this.analitics,!1)):(this.analitics=e.items.map(function(e){return e.statistics.viewCount}),this.viewVideo.render(this.totalResult,this.analitics,!0),this.viewWrapperSlider.resize(document.querySelector(".wrapper-video"))),this.viewWrapperFooter.render(this.totalResult.length,this.viewWrapperSlider.getCountVideo())}},{key:"callbackResize",value:function(){this.viewWrapperSlider.resize(document.querySelector(".wrapper-video")),this.viewWrapperFooter.render(this.totalResult.length,this.viewWrapperSlider.getCountVideo())}}]),e}())).start()},1:function(e,t){},22:function(e,t){},24:function(e,t){}});